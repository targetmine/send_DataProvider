<mat-toolbar>
	<button mat-button [mat-menu-trigger-for]="modelMenu">Model</button>
	<mat-menu #modelMenu="matMenu">
		<button mat-menu-item
			type="submit"
			(click)="onLoadModel($event)"
			[disabled]="model.length !== 0"
			>
			Load Model
		</button>
	</mat-menu>

	<button mat-button [mat-menu-trigger-for]="elementMenu">Element</button>
	<mat-menu #elementMenu="matMenu">
		<button mat-menu-item
			type="submit"
			(click)="onAddElement($event)"
			[disabled]="true"
			>
			Add Element
		</button>
	</mat-menu>
</mat-toolbar>
<form>

	<mat-form-field appearance="outline">
		<mat-label>Select action:</mat-label>
		<mat-select
			[formControl]="actionType"
			required
			>
			<mat-option *ngIf="model.length === 0"
				(click)="onLoadModel($event)"
				value="Load Model">
				Load Model
			</mat-option>
			<mat-option *ngIf="model.length > 0"
				(click)="onSaveModel($event)"
				value="Save Model">
				Save Model to File
			</mat-option>
			<mat-option *ngIf="model.length > 0"
				(click)="onFinishModel($event)"
				value="Finish Model">
				Finish Model and Upload Data
			</mat-option>
			<mat-option 
				value="Add Element"
				>Add Element
			</mat-option>
		</mat-select>
	</mat-form-field>

	<div hidden>
		<input 
			(change)="onFileSelected($event)"
			#modelFileInput
			type="file"
			>
	</div>

	<div *ngIf="actionType.value == 'Add Element'">
		<mat-form-field appearance="outline">
			<mat-label>Element name:</mat-label>
		<input matInput
			required
			type="text"
			[formControl]="elementName"
			placeholder="Ex. Gene"
		>
		<mat-hint>Start with letter. Use only alpha-numeric characters.</mat-hint>
		</mat-form-field>

		<button mat-raised-button
			type="submit"
			(click)="onAddElement($event)"
			[disabled]="!elementName.valid"
		>
		Add
		</button>
	</div>
</form>

<app-model-display
	[editing]="true">
</app-model-display> 